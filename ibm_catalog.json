{
  "products": [
    {
      "name": "deploy-arch-ibm-code-engine",
      "label": "Cloud automation for Code Engine",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "support_ibm",
        "integration",
        "converged_infra"
      ],
      "keywords": [
        "code engine",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution"
      ],
      "short_description": "Provisions and configures serverless project on IBM Cloud Code Engine",
      "long_description": "Creates a fully managed container runtime environment on [Serverless on IBM Cloud](https://www.ibm.com/products/code-engine), including configuration of the serverless project, applications, domain mappings, secrets, configmaps, and service bindings. It enables you to run containers, application code using IBM Cloud® Code Engine, with infrastructure managed for you.\n\nℹ️ This Terraform-based automation is part of a broader suite of IBM-maintained Infrastructure as Code (IaC) assets, each following the naming pattern \"Cloud automation for *servicename*\" and focusing on single IBM Cloud service. These single-service deployable architectures can be used on their own to streamline and automate service deployments through an [IaC approach](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-understanding-projects), or assembled together into a broader [automated IaC stack](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-config-stack) to automate the deployment of an end-to-end solution architecture.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-code-engine/blob/main/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-code-engine/main/images/code-engine.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Project",
          "description": "[A Code Engine project](https://cloud.ibm.com/docs/codeengine?topic=codeengine-manage-project) groups, manages, and provides access to Code Engine resources such as applications, jobs, and builds."
        },
        {
          "title": "Applications",
          "description": "[Code Engine applications](https://cloud.ibm.com/docs/codeengine?topic=codeengine-application-workloads) serve HTTP requests or WebSockets as their communications protocol. The number of running instances of an application are scaled up or down as required by the workdloads."
        },
        {
          "title": "Custom domain mappings",
          "description": "Creates the [mappings](https://cloud.ibm.com/docs/codeengine?topic=codeengine-domain-mappings) from your custom domain to your Code Engine application in a project to route requests from your custom URL to your application."
        },
        {
          "title": "Secrets",
          "description": "[Code Engine secrets](https://cloud.ibm.com/docs/codeengine?topic=codeengine-secret) provide a method to include sensitive configuration information, such as passwords or SSH keys, in your deployment."
        },
        {
          "title": "Configmaps",
          "description": "[Code Engine Configmaps](https://cloud.ibm.com/docs/codeengine?topic=codeengine-configmap) provide a method to include nonsensitive data information in your deployment. By referencing values from your configmap as environment variables, you can decouple specific information from your deployment and keep your application portable."
        },
        {
          "title": "Service bindings",
          "description": "[Code engine service bindings](https://cloud.ibm.com/docs/codeengine?topic=codeengine-service-binding) provide access from your application to other IBM Cloud services."
        }
      ],
      "support_details": "This product is in the community registry, as such support is handled through the originated repo. If you experience issues please open an issue in that repository [https://github.com/terraform-ibm-modules/terraform-ibm-code-engine/issues](https://github.com/terraform-ibm-modules/terraform-ibm-code-engine/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Application From Existing Container Image",
          "name": "binary",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/app-from-binary",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer"
              ],
              "service_name": "codeengine"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "container-registry"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to launch an application on Code Engine from a binary image."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Code Engine application solution.",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-code-engine/main/reference-architecture/ce-project-da.svg",
                  "type": "image/svg+xml"
                },
                "description": "This deployable architecture creates IBM Cloud Code Engine project"
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "existing_resource_group_name",
              "required": true,
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "project_name",
              "required": true
            },
            {
              "key": "app_name",
              "required": true
            },
            {
              "key": "app_image_reference",
              "required": true
            },
            {
              "key": "region",
              "options": [
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Osaka (jp-osa)",
                  "value": "jp-osa"
                },
                {
                  "displayname": "Sao Paulo (br-sao)",
                  "value": "br-sao"
                },
                {
                  "displayname": "Spain (us-es)",
                  "value": "us-es"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                }
              ]
            },
            {
              "key": "app_scale_cpu_memory",
              "options": [
                {
                  "displayname": "0.125 vCPU / 0.25 GB",
                  "value": "0.125 vCPU / 0.25 GB"
                },
                {
                  "displayname": "0.125 vCPU / 0.5 GB",
                  "value": "0.125 vCPU / 0.5 GB"
                },
                {
                  "displayname": "0.125 vCPU / 1 GB",
                  "value": "0.125 vCPU / 1 GB"
                },
                {
                  "displayname": "0.25 vCPU / 0.5 GB",
                  "value": "0.25 vCPU / 0.5 GB"
                },
                {
                  "displayname": "0.25 vCPU / 1 GB",
                  "value": "0.25 vCPU / 1 GB"
                },
                {
                  "displayname": "0.25 vCPU / 2 GB",
                  "value": "0.25 vCPU / 2 GB"
                },
                {
                  "displayname": "0.5 vCPU / 1 GB",
                  "value": "0.5 vCPU / 1 GB"
                },
                {
                  "displayname": "0.5 vCPU / 2 GB",
                  "value": "0.5 vCPU / 2 GB"
                },
                {
                  "displayname": "0.5 vCPU / 4 GB",
                  "value": "0.5 vCPU / 4 GB"
                },
                {
                  "displayname": "1 vCPU / 2 GB",
                  "value": "1 vCPU / 2 GB"
                },
                {
                  "displayname": "1 vCPU / 4 GB",
                  "value": "1 vCPU / 4 GB"
                },
                {
                  "displayname": "1 vCPU / 8 GB",
                  "value": "1 vCPU / 8 GB"
                },
                {
                  "displayname": "2 vCPU / 4 GB",
                  "value": "2 vCPU / 4 GB"
                },
                {
                  "displayname": "2 vCPU / 8 GB",
                  "value": "2 vCPU / 8 GB"
                },
                {
                  "displayname": "2 vCPU / 16 GB",
                  "value": "2 vCPU / 16 GB"
                },
                {
                  "displayname": "4 vCPU / 8 GB",
                  "value": "4 vCPU / 8 GB"
                },
                {
                  "displayname": "4 vCPU / 16 GB",
                  "value": "4 vCPU / 16 GB"
                },
                {
                  "displayname": "4 vCPU / 32 GB",
                  "value": "4 vCPU / 32 GB"
                },
                {
                  "displayname": "6 vCPU / 12 GB",
                  "value": "6 vCPU / 12 GB"
                },
                {
                  "displayname": "6 vCPU / 24 GB",
                  "value": "6 vCPU / 24 GB"
                },
                {
                  "displayname": "6 vCPU / 48 GB",
                  "value": "6 vCPU / 48 GB"
                },
                {
                  "displayname": "8 vCPU / 16 GB",
                  "value": "8 vCPU / 16 GB"
                },
                {
                  "displayname": "8 vCPU / 32 GB",
                  "value": "8 vCPU / 32 GB"
                },
                {
                  "displayname": "10 vCPU / 20 GB",
                  "value": "10 vCPU / 20 GB"
                },
                {
                  "displayname": "10 vCPU / 40 GB",
                  "value": "10 vCPU / 40 GB"
                },
                {
                  "displayname": "12 vCPU / 24 GB",
                  "value": "12 vCPU / 24 GB"
                },
                {
                  "displayname": "12 vCPU / 48 GB",
                  "value": "12 vCPU / 48 GB"
                }
              ]
            },
            {
              "key": "app_scale_ephemeral_storage_limit"
            },
            {
              "key": "app_image_port"
            },
            {
              "key": "managed_domain_mappings",
              "options": [
                {
                  "displayname": "Public",
                  "value": "local_public"
                },
                {
                  "displayname": "Private",
                  "value": "local_private"
                },
                {
                  "displayname": "Project-Only",
                  "value": "local"
                }
              ]
            },
            {
              "key": "domain_mappings",
              "hidden": true
            },
            {
              "key": "config_maps",
              "hidden": true
            },
            {
              "key": "bindings",
              "hidden": true
            },
            {
              "key": "app_scale_concurrency",
              "hidden": true
            },
            {
              "key": "app_scale_concurrency_target",
              "hidden": true
            },
            {
              "key": "app_scale_request_timeout",
              "hidden": true
            },
            {
              "key": "app_scale_down_delay",
              "hidden": true
            },
            {
              "key": "app_image_secret",
              "hidden": true
            },
            {
              "key": "app_scale_memory_limit",
              "hidden": true
            },
            {
              "key": "app_scale_cpu_limit",
              "hidden": true
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "cbr_rules",
              "type": "array",
              "custom_config": {
                "type": "textarea",
                "grouping": "deployment",
                "original_grouping": "deployment"
              },
              "hidden": true
            }
          ],
          "terraform_version": "1.10.5"
        },
        {
          "label": "Build container image from source",
          "name": "build",
          "index": 2,
          "install_type": "fullstack",
          "working_directory": "solutions/build",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer"
              ],
              "service_name": "codeengine"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to launch an application on Code Engine from a source."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Code Engine application solution.",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-code-engine/main/reference-architecture/ce-project-da.svg",
                  "type": "image/svg+xml"
                },
                "description": "This deployable architecture creates IBM Cloud Code Engine project"
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "existing_resource_group_name",
              "required": true,
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "project_name",
              "required": true
            },
            {
              "key": "region",
              "options": [
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Osaka (jp-osa)",
                  "value": "jp-osa"
                },
                {
                  "displayname": "Sao Paulo (br-sao)",
                  "value": "br-sao"
                },
                {
                  "displayname": "Spain (us-es)",
                  "value": "us-es"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                }
              ]
            },
            {
              "key": "build_name"
            },
            {
              "key": "source_url",
              "required": true
            },
            {
              "key": "source_revision"
            },
            {
              "key": "source_context_dir"
            },
            {
              "key": "strategy_type"
            },
            {
              "key": "output_image"
            },
            {
              "key": "container_registry_namespace"
            },
            {
              "key": "github_password"
            },
            {
              "key": "github_username"
            },
            {
              "key": "timeout"
            },
            {
              "key": "domain_mappings",
              "hidden": true
            },
            {
              "key": "config_maps",
              "hidden": true
            },
            {
              "key": "bindings",
              "hidden": true
            },
            {
              "key": "source_type",
              "hidden": true
            },
            {
              "key": "strategy_spec_file",
              "hidden": true
            },
            {
              "key": "strategy_size",
              "hidden": true
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "cbr_rules",
              "type": "array",
              "custom_config": {
                "type": "textarea",
                "grouping": "deployment",
                "original_grouping": "deployment"
              },
              "hidden": true
            }
          ],
          "terraform_version": "1.10.5"
        },
        {
          "label": "Quickstart",
          "name": "quickstart",
          "index": 3,
          "install_type": "fullstack",
          "working_directory": "solutions/quickstart",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer"
              ],
              "service_name": "codeengine"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to launch an application on Code Engine from a source."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Code Engine application solution.",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-code-engine/main/reference-architecture/ce-project-da.svg",
                  "type": "image/svg+xml"
                },
                "description": "This deployable architecture creates IBM Cloud Code Engine project"
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "existing_resource_group_name",
              "required": true,
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "project_name",
              "required": true
            },
            {
              "key": "app_name",
              "required": true
            },
            {
              "key": "region",
              "options": [
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Osaka (jp-osa)",
                  "value": "jp-osa"
                },
                {
                  "displayname": "Sao Paulo (br-sao)",
                  "value": "br-sao"
                },
                {
                  "displayname": "Spain (us-es)",
                  "value": "us-es"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                }
              ]
            },
            {
              "key": "build_name"
            },
            {
              "key": "source_url",
              "required": true
            },
            {
              "key": "source_revision"
            },
            {
              "key": "source_context_dir"
            },
            {
              "key": "strategy_type"
            },
            {
              "key": "output_image"
            },
            {
              "key": "container_registry_namespace"
            },
            {
              "key": "github_password"
            },
            {
              "key": "github_username"
            },
            {
              "key": "app_scale_cpu_memory",
              "options": [
                {
                  "displayname": "0.125 vCPU / 0.25 GB",
                  "value": "0.125 vCPU / 0.25 GB"
                },
                {
                  "displayname": "0.125 vCPU / 0.5 GB",
                  "value": "0.125 vCPU / 0.5 GB"
                },
                {
                  "displayname": "0.125 vCPU / 1 GB",
                  "value": "0.125 vCPU / 1 GB"
                },
                {
                  "displayname": "0.25 vCPU / 0.5 GB",
                  "value": "0.25 vCPU / 0.5 GB"
                },
                {
                  "displayname": "0.25 vCPU / 1 GB",
                  "value": "0.25 vCPU / 1 GB"
                },
                {
                  "displayname": "0.25 vCPU / 2 GB",
                  "value": "0.25 vCPU / 2 GB"
                },
                {
                  "displayname": "0.5 vCPU / 1 GB",
                  "value": "0.5 vCPU / 1 GB"
                },
                {
                  "displayname": "0.5 vCPU / 2 GB",
                  "value": "0.5 vCPU / 2 GB"
                },
                {
                  "displayname": "0.5 vCPU / 4 GB",
                  "value": "0.5 vCPU / 4 GB"
                },
                {
                  "displayname": "1 vCPU / 2 GB",
                  "value": "1 vCPU / 2 GB"
                },
                {
                  "displayname": "1 vCPU / 4 GB",
                  "value": "1 vCPU / 4 GB"
                },
                {
                  "displayname": "1 vCPU / 8 GB",
                  "value": "1 vCPU / 8 GB"
                },
                {
                  "displayname": "2 vCPU / 4 GB",
                  "value": "2 vCPU / 4 GB"
                },
                {
                  "displayname": "2 vCPU / 8 GB",
                  "value": "2 vCPU / 8 GB"
                },
                {
                  "displayname": "2 vCPU / 16 GB",
                  "value": "2 vCPU / 16 GB"
                },
                {
                  "displayname": "4 vCPU / 8 GB",
                  "value": "4 vCPU / 8 GB"
                },
                {
                  "displayname": "4 vCPU / 16 GB",
                  "value": "4 vCPU / 16 GB"
                },
                {
                  "displayname": "4 vCPU / 32 GB",
                  "value": "4 vCPU / 32 GB"
                },
                {
                  "displayname": "6 vCPU / 12 GB",
                  "value": "6 vCPU / 12 GB"
                },
                {
                  "displayname": "6 vCPU / 24 GB",
                  "value": "6 vCPU / 24 GB"
                },
                {
                  "displayname": "6 vCPU / 48 GB",
                  "value": "6 vCPU / 48 GB"
                },
                {
                  "displayname": "8 vCPU / 16 GB",
                  "value": "8 vCPU / 16 GB"
                },
                {
                  "displayname": "8 vCPU / 32 GB",
                  "value": "8 vCPU / 32 GB"
                },
                {
                  "displayname": "10 vCPU / 20 GB",
                  "value": "10 vCPU / 20 GB"
                },
                {
                  "displayname": "10 vCPU / 40 GB",
                  "value": "10 vCPU / 40 GB"
                },
                {
                  "displayname": "12 vCPU / 24 GB",
                  "value": "12 vCPU / 24 GB"
                },
                {
                  "displayname": "12 vCPU / 48 GB",
                  "value": "12 vCPU / 48 GB"
                }
              ]
            },
            {
              "key": "app_scale_ephemeral_storage_limit"
            },
            {
              "key": "app_image_port"
            },
            {
              "key": "managed_domain_mappings",
              "options": [
                {
                  "displayname": "Public",
                  "value": "local_public"
                },
                {
                  "displayname": "Private",
                  "value": "local_private"
                },
                {
                  "displayname": "Project-Only",
                  "value": "local"
                }
              ]
            },
            {
              "key": "timeout"
            },
            {
              "key": "domain_mappings",
              "hidden": true
            },
            {
              "key": "config_maps",
              "hidden": true
            },
            {
              "key": "bindings",
              "hidden": true
            },
            {
              "key": "source_type",
              "hidden": true
            },
            {
              "key": "strategy_spec_file",
              "hidden": true
            },
            {
              "key": "strategy_size",
              "hidden": true
            },
            {
              "key": "app_scale_concurrency",
              "hidden": true
            },
            {
              "key": "app_scale_concurrency_target",
              "hidden": true
            },
            {
              "key": "app_scale_request_timeout",
              "hidden": true
            },
            {
              "key": "app_scale_down_delay",
              "hidden": true
            },
            {
              "key": "app_image_secret",
              "hidden": true
            },
            {
              "key": "app_image_reference",
              "hidden": true
            },
            {
              "key": "app_scale_memory_limit",
              "hidden": true
            },
            {
              "key": "app_scale_cpu_limit",
              "hidden": true
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "cbr_rules",
              "type": "array",
              "custom_config": {
                "type": "textarea",
                "grouping": "deployment",
                "original_grouping": "deployment"
              },
              "hidden": true
            },
            {
              "key": "existing_cos_instance_crn",
              "virtual": true
            },
            {
              "key": "existing_kms_instance_crn",
              "virtual": true
            },
            {
              "key": "region",
              "required": true,
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "virtual": true
            },
            {
              "key": "logs_routing_tenant_regions",
              "type": "array",
              "default_value": [],
              "description": "To manage platform logs that are generated by IBM Cloud services in a region of IBM Cloud, you must create a tenant in each region that you operate. Pass a list of regions to create a tenant in. [Learn more](https://cloud.ibm.com/docs/logs-router?topic=logs-router-about-platform-logs).",
              "required": true,
              "virtual": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "enable_platform_metrics",
              "type": "boolean",
              "default_value": false,
              "description": "When set to `true`, the IBM Cloud Monitoring instance will be configured to collect platform metrics from the provided region. You can configure 1 instance only of the IBM Cloud Monitoring service per region to collect platform metrics in that location. Check with the account or service administrator if another monitoring instance has already been configured. You may not have permissions to see all monitoring instances in the region. [Learn more](https://cloud.ibm.com/docs/monitoring?topic=monitoring-platform_metrics_enabling).",
              "required": true,
              "virtual": true,
              "options": [
                {
                  "displayname": "true",
                  "value": "true"
                },
                {
                  "displayname": "false",
                  "value": "false"
                }
              ]
            }
          ],
          "dependencies": [
            {
              "name": "deploy-arch-ibm-account-infra-base",
              "description": "Cloud automation for Account Configuration organizes your IBM Cloud account with a ready-made set of resource groups by default and when you enable the \"with Account Settings\" option, it also applies baseline security and governance settings. ",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "resource-group-only",
                "resource-groups-with-account-settings"
              ],
              "default_flavor": "resource-group-only",
              "id": "63641cec-6093-4b4f-b7b0-98d2f4185cd6-global",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_output": "workload_resource_group_name",
                  "version_input": "existing_resource_group_name"
                }
              ],
              "optional": true,
              "on_by_default": false,
              "version": "v3.0.7"
            },
            {
              "name": "deploy-arch-ibm-cloud-logs",
              "description": "Configure an IBM Cloud Logs instance to analyse the platform logs.",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "fully-configurable"
              ],
              "id": "63d8ae58-fbf3-41ce-b844-0fb5b85882ab-global",
              "version": "v1.6.11",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_cos_instance_crn",
                  "version_input": "existing_cos_instance_crn",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_kms_instance_crn",
                  "version_input": "existing_kms_instance_crn",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "logs_routing_tenant_regions",
                  "version_input": "logs_routing_tenant_regions",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-cloud-monitoring",
              "description": "Configure an IBM Cloud Monitoring instance to collect the platform metrics.",
              "id": "73debdbf-894f-4c14-81c7-5ece3a70b67d-global",
              "version": "v1.6.4",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_cos_instance_crn",
                  "version_input": "existing_cos_instance_crn",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_kms_instance_crn",
                  "version_input": "existing_kms_instance_crn",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-activity-tracker",
              "description": "Configure Activity Tracker Event Routing to route the auditing events.",
              "id": "918453c3-4f97-4583-8c4a-83ef12fc7916-global",
              "version": "v1.2.12",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_cos_instance_crn",
                  "version_input": "existing_cos_instance_crn",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_kms_instance_crn",
                  "version_input": "existing_kms_instance_crn",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-scc-workload-protection",
              "description": "Configure an IBM Cloud SCC Workload Protection instance to collect security and compliance metrics.",
              "id": "4322cf44-2289-49aa-a719-dd79e39b14dc-global",
              "version": "v1.11.1",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                }
              ]
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        }
      ]
    }
  ]
}
